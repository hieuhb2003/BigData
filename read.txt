
sudo mkdir -p /tmp/airflow
sudo chmod 777 /tmp/airflow

docker network create airflow-kafka

docker-compose up -d

táº¡i 2 patiron
docker exec -it <kafka-container-id> kafka-topics.sh --create \
    --topic reddit_data \
    --bootstrap-server localhost:9092 \
    --partitions 3 \
    --replication-factor 1


install pgadmin 4
regist db 
dbname = "reddit-data"  
user = "postgres"          
password = "postgres"      
host = "localhost"    

python scripts/create_table.py

docker build -f spark/Dockerfile -t reddit-consumer/spark:latest .

echo -e "AIRFLOW_UID=$(id -u)\nAIRFLOW_PROJ_DIR=\"./airflow_resources\"" > .env

docker compose -f docker-compose-airflow.yaml up -d

kafka_python==2.0.2
psycopg2-binary==2.9.9
apache-airflow==2.7.3
pyspark==3.5.0
unidecode==1.3.7
praw 